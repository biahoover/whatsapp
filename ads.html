<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Site</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
            background-image: url('Design sem nome (8).png');
            background-size: cover;
            background-position: center;
        }
        #whatsappButton {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: green;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            outline: none;
            animation: pulse 1s infinite;
        }
        #whatsappButton.disabled {
            background-color: gray;
            pointer-events: none;
            cursor: default;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <button id="whatsappButton" onclick="redirectToWhatsApp()">FALE COMIGO NO WHATSAPP ♥</button>
    <script>
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            var expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function redirectToWhatsApp() {
            var currentTime = new Date().getHours();
            if (currentTime >= 8 && currentTime < 23) {
                var deviceId = getCookie('device_id');
                if (!deviceId) {
                    deviceId = Math.random().toString(36).substring(7);
                    setCookie('device_id', deviceId, 1);
                }
                var whatsappLinks = [
                    "https://typebot.co/tbh1",
                    "https://typebot.co/tbh3",
                    "https://typebot.co/tbh5",
                    "https://typebot.co/tbh6"
                ];
                var whatsappIndex = parseInt(getCookie('whatsapp_index')) || 0;
                window.location.href = whatsappLinks[whatsappIndex] + "?device_id=" + deviceId;
                whatsappIndex = (whatsappIndex + 1) % whatsappLinks.length;
                setCookie('whatsapp_index', whatsappIndex, 1);
            } else {
                document.getElementById('whatsappButton').classList.add('disabled');
                document.getElementById('whatsappButton').innerText = 'Online em:';
                var countdown = setInterval(function() {
                    var timeLeft = 23 - new Date().getHours();
                    if (timeLeft < 0) {
                        timeLeft += 24;
                    }
                    document.getElementById('whatsappButton').innerText = 'Online em: ' + timeLeft + 'h';
                    if (timeLeft == 0) {
                        clearInterval(countdown);
                        document.getElementById('whatsappButton').classList.remove('disabled');
                        document.getElementById('whatsappButton').innerText = 'FALE COMIGO NO WHATSAPP ♥';
                    }
                }, 1000 * 60 * 60);
            }
        }
    </script>
    <footer>
        <p>©2024 Bianca Hoover.</p>
    </footer>
</body>
</html>
